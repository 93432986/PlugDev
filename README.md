# PlugDev

基于netty框架实现设备工作电压实时上报采集功能

报文协议格式：

[数据包头][命令标识][:][命令数据]
[数据包头]：8字节字符串（文本表示，不足8位前面补0），值为：[命令标识]:[命令数据]的字节数；
[命令标识]：4字节字符串（文本表示），区分每条命令数据；
[:]       ：分隔符，一个英文的“:”。
[命令数据]：实际的通信协议数据。根据不同的[命令标识]，对应不同的[命令数据]；

[数据包头][命令标识][:] 的大小是固定的，即：8+4+1=13字节；
[命令数据] 的大小不固定；


终端设备工作情况上报协议

1）终端工作上报

[命令标识]：1006
[命令数据]：imei=value&state=value&voltage=value&time=value

字段名	描述
imei	终端设备唯一编号
state	1：开机状态  0：关机状态
voltage	工作电压 单位为伏 如3.65
time	状态改变时间

如，
000000331006:imei=460010708601151&state=1&voltage=3.78&time=20140916121232
2）服务器应答协议
[命令标识]：1007
[命令数据]：status=value

字段名	描述
status	数据上报成功或者失败 1：成功   0：失败

如，服务器应答数据包如下：
000000131007: status=1
